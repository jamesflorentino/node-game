((function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o=Object.prototype.hasOwnProperty,p=function(a,b){function d(){this.constructor=a}for(var c in b)o.call(b,c)&&(a[c]=b[c]);return d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype,a};this.Wol,d=function(a,b,d,e){var k,l,m;d==null&&(d=1),e==null&&(e=0),m=[],k=1+e;while(k<d+1)l=c(a,b,k,!0),m=m.concat(l),l=h(a,b,k,!0),m=m.concat(l),l=i(a,b,k,!0),m=m.concat(l),l=j(a,b,k,!0),m=m.concat(l),l=g(a,b,k,!0),m=m.concat(l),l=f(a,b,k,!0),m=m.concat(l),k++;return m},b=function(a,b,d,e){var k,l,m;d==null&&(d=1),e==null&&(e=0),m=[],k=1+e;while(k<d+1)l=c(a,b,k),m=m.concat(l),l=h(a,b,k,!0),m=m.concat(l),l=i(a,b,k,!1),m=m.concat(l),l=j(a,b,k,!1),m=m.concat(l),l=g(a,b,k,!0),m=m.concat(l),l=f(a,b,k),m=m.concat(l),k++;return m},e=function(a,b,d,e){var f,g,h;d==null&&(d=1),e==null&&(e=0),h=[],f=1+e;while(f<d+1)g=c(a,b,f,!0),h=h.concat(g),g=j(a,b,f,!0),h=h.concat(g),f++;return h},a=function(a,b,d,e){var k,l,m;d==null&&(d=1),e==null&&(e=0),m=[],k=1+e;while(k<d+1)l=h(a,b,k),m=m.concat(l),l=f(a,b,k),m=m.concat(l),l=i(a,b,k),m=m.concat(l),l=g(a,b,k),m=m.concat(l),l=j(a,b,k),m=m.concat(l),l=c(a,b,k),m=m.concat(l),k++;return m},c=function(a,b,c,d){var e,f,g,h,i;g=[],e=0,f=c*.5,f=Math.floor(f);while(e<c){i=b+e,h=a+c-Math.ceil(e*.5),b%2&&i%2===0&&h++,g.push({x:h,y:i}),e++;if(d)break}return g},j=function(a,b,c,d){var e,f,g,h,i;g=[],e=0,f=c*.5,f=Math.floor(f);while(e<c){i=b-e,h=a-c+Math.floor(e*.5),b%2&&i%2===0&&h++,g.push({x:h,y:i}),e++;if(d)break}return g},g=function(a,b,c,d){var e,f,g,h,i;g=[],e=0,f=c*.5,f=Math.ceil(f);while(e<c){h=a+e-f,i=b-c,b%2&&c%2&&h++,g.push({x:h,y:i});if(d)break;e++}return g},i=function(a,b,c,d){var e,f,g,h,i;g=[],e=0,f=c*.5,f=Math.ceil(f);while(e<c){i=b+c-e,h=a-e-f+Math.ceil(e*.5),i%2===0&&b%2&&c%2&&h++,c%2===0&&b%2===0&&i%2&&h--,g.push({x:h,y:i});if(d)break;e++}return g},f=function(a,b,c,d){var e,f,g,h,i;g=[],e=0,f=c*.5,f=Math.floor(f);while(e<c){i=b-c+e,h=a+e+f-Math.floor(e*.5),i%2===0&&b%2&&c%2&&h++,c%2===0&&b%2===0&&i%2&&h--,g.push({x:h,y:i}),e++;if(d)break}return g},h=function(a,b,c,d){var e,f,g,h,i;g=[],e=0,f=c*.5,f=Math.floor(f);while(e<c){h=a-e+f,i=b+c,b%2&&c%2&&h++,g.push({x:h,y:i}),e++;if(d)break}return g},n=126,k=86,l=63,m=22,Wol.Views.HexTile=function(b){function c(){c.__super__.constructor.apply(this,arguments)}return p(c,b),c.prototype.init=function(){this.__base=new Bitmap(Wol.getAsset("hex")),this.__move=new Bitmap(Wol.getAsset("hex_move")),this.__act=new Bitmap(Wol.getAsset("hex_act")),this.__target=new Bitmap(Wol.getAsset("hex_act_target")),this.el=new Container,this.tileID=""+this.tileX+"|"+this.tileY,this.el.x=n*this.tileX,this.el.y=(k-m)*this.tileY,this.width=n,this.height=k,this.tileY%2&&(this.el.x+=l),this.x=this.el.x+n*.5,this.y=this.el.y+k*.5,this.el.addChild(this.__base),this.el.addChild(this.__act),this.el.addChild(this.__move),this.el.addChild(this.__target),this.hide(),this.cost=1},c.prototype.select=function(a){this.show(),this.selected=!0,this.__hideTiles();switch(a){case"act":this.__target.visible=!0;break;default:this.__move.visible=!0}},c.prototype.deselect=function(){return this.selected=!1,this.__base.visible=!0,this.__move.visible=!1,this.__target.visible=!1},c.prototype.hide=function(){this.el.visible=!1,this.selected=!1,this.el.onClick=null},c.prototype.__hideTiles=function(){this.__move.visible=!1,this.__base.visible=!1,this.__act.visible=!1,this.__target.visible=!1},c.prototype.show=function(a){a==null&&(a="move"),this.el.visible=!0,this.__hideTiles();switch(a){case"act":this.__act.visible=!0;break;default:this.__base.visible=!0}},c.prototype.addUnit=function(a){this.units||(this.units=[]),this.units.push(a)},c.prototype.removeUnit=function(a){this.units||(this.units=[]),this.units.splice(this.units.indexOf(a),1)},c.prototype.getAdjacentHexPoints=function(b){var c,d;return b||(b={}),c=b.radius||1,d=a(this.tileX,this.tileY,c),d||(d=[])},c}(Wol.Views.View)})).call(this)