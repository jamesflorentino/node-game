((function(){var a,b=Object.prototype.hasOwnProperty,c=function(a,c){function e(){this.constructor=a}for(var d in c)b.call(c,d)&&(a[d]=c[d]);return e.prototype=c.prototype,a.prototype=new e,a.__super__=c.prototype,a};a=Wol.Ui,a.CancelButton=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return c(b,a),b.prototype.init=function(){var a=this;this.el=$("#cancelButton"),this.el.click(function(){return a.trigger("cancel"),a.hide()})},b.prototype.show=function(a,b){this.el.addClass("active");if(a===void 0)return;this.el.css({top:b,left:a})},b.prototype.hide=function(){this.el.removeClass("active")},b}(Wol.Views.View),a.CommandList=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return c(b,a),b.prototype.init=function(){var a=this;this.el=$("#commandList"),this.cancelButton=this.el.find(".cancel"),this.list=this.el.find(".list"),this.list.empty(),this.tpl=function(a){return"<li>\t\t\t\t<span class='index'>"+a.index+"</span>\t\t\t\t<span class='command name'>"+a.name+"</span>\t\t\t\t<span class='indicator'></span>\t\t\t</li>"},this.cancelButton.click(function(){return a.trigger("cancel"),a.hide()})},b.prototype.setCommands=function(a){var b,c,d=this;b=this.list,c=this.tpl,b.empty(),a.forEach(function(a,e){var f,g,h;return g=a.get("name"),f=a.get("code"),h=$(c({index:e+1,name:g})),h.click(function(){d.trigger("act",a)}),b.append(h)})},b.prototype.show=function(a,b){this.el.removeClass("hidden"),this.el.css({top:b,left:a}),this.el.addClass("active")},b.prototype.hide=function(){this.el.addClass("hidden")},b}(Wol.Views.View),a.UnitInfo=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return c(b,a),b.prototype.init=function(){this.el=$("#unitInfo"),this.hp=this.el.find(".health"),this.ep=this.el.find(".energy"),this.ap=this.el.find(".action"),this.tp=this.el.find(".turn"),this.pic=this.el.find(".portrait"),this.title=this.el.find(".name"),this.hp.data("oWidth",this.hp.find(".bar").width()),this.ep.data("oWidth",this.ep.find(".bar").width()),this.ap.data("oWidth",this.ap.find(".bar").width()),this.tp.data("oWidth",this.tp.find(".bar").width())},b.prototype.show=function(a){var b;this.title.text(a.name),this.updateBar(this.hp,a.health,a.maxHealth),this.updateBar(this.ep,a.energy,a.maxEnergy),this.updateBar(this.ap,a.actions,a.maxActions),this.updateBar(this.tp,a.charge,100),b=Math.round(a.charge*100)/100,this.tp.find(".value").text(""+b+"%"),this.el.removeClass(),this.el.addClass(a.type)},b.prototype.updateBar=function(a,b,c){var d,e,f,g;e=a.data("oWidth"),d=a.find(".bar"),f=a.find(".value"),f.text(""+b+"/"+c),g=b/c*e,d.width(g)},b}(Wol.Views.View),a.TurnList=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return c(b,a),b.prototype.init=function(){this.el=$("#turnList"),this.logs=this.el.find(".logs"),this.template=function(){return $("#tpl-turnlist").html()}},b.prototype.generate=function(a){var b=this;this.logs.empty(),a.forEach(function(a){var c;return c=$(b.template()),c.find(".unit").text(a.name),b.logs.append(c)})},b}(Wol.Views.View),a.ActionMenu=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return c(b,a),b.prototype.init=function(){var a=this;this.el=$("#actionMenu"),this.skip=this.el.find(".skip"),this.move=this.el.find(".move"),this.act=this.el.find(".act"),this.cancel=this.el.find(".cancel"),this.move.bind("click",function(){return a.showMove()}),this.skip.bind("click",function(){return a.skipMove()}),this.cancel.bind("click",function(){return a.cancelAction()}),this.act.bind("click",function(){return a.showCommands()})},b.prototype.show=function(a,b){this.el.removeClass(),this.el.addClass("active"),this.el.css({top:b,left:a})},b.prototype.hide=function(){this.el.removeClass("active")},b.prototype.showMove=function(){this.trigger("move"),this.showCancel()},b.prototype.skipMove=function(){this.trigger("skip")},b.prototype.showCancel=function(){return this.el.addClass("cancel")},b.prototype.cancelAction=function(){this.el.removeClass("cancel"),this.trigger("cancel")},b.prototype.showCommands=function(){this.trigger("act"),this.showCancel()},b}(Wol.Views.View),a.Confirm=function(a){function b(){b.__super__.constructor.apply(this,arguments)}return c(b,a),b.prototype.init=function(){var a=this;return this.el=$("#actionConfirm"),this.confirmButton=this.el.find(".confirm"),this.cancelButton=this.el.find(".cancel"),this.cancelButton.bind("click",function(){return a.cancel()}),this.confirmButton.bind("click",function(){return a.confirm()})},b.prototype.show=function(a,b){this.el.removeClass(),this.el.css({top:b,left:a}),this.el.addClass("active")},b.prototype.hide=function(){this.el.removeClass("active")},b.prototype.confirm=function(){this.trigger("confirm")},b.prototype.cancel=function(){this.hide(),this.trigger("cancel")},b}(Wol.Views.View)})).call(this)