@import nib

// easing
// Cubic
easeInCubic = cubic-bezier(0.550, 0.055, 0.675, 0.190)
easeOutCubic = cubic-bezier(0.215, 0.610, 0.355, 1.000)
easeInOutCubic  = cubic-bezier(0.645, 0.045, 0.355, 1.000)

// Circ
easeInCirc = cubic-bezier(0.600, 0.040, 0.980, 0.335)
easeOutCirc = cubic-bezier(0.075, 0.820, 0.165, 1.000)
easeInOutCirc = cubic-bezier(0.785, 0.135, 0.150, 0.860)

// Expo
easeInExpo = cubic-bezier(0.950, 0.050, 0.795, 0.035)
easeOutExpo = cubic-bezier(0.190, 1.000, 0.220, 1.000)
easeInOutExpo = cubic-bezier(1.000, 0.000, 0.000, 1.000)

// Quad
easeInQuad = cubic-bezier(0.550, 0.085, 0.680, 0.530)
easeOutQuad = cubic-bezier(0.250, 0.460, 0.450, 0.940)
easeInOutQuad = cubic-bezier(0.455, 0.030, 0.515, 0.955)

// Quart
easeInQuart = cubic-bezier(0.895, 0.030, 0.685, 0.220)
easeOutQuart = cubic-bezier(0.165, 0.840, 0.440, 1.000)
easeInOutQuart  = cubic-bezier(0.770, 0.000, 0.175, 1.000)

// Quint
easeInQuint = cubic-bezier(0.755, 0.050, 0.855, 0.060)
easeOutQuint = cubic-bezier(0.230, 1.000, 0.320, 1.000)
easeInOutQuint  = cubic-bezier(0.860, 0.000, 0.070, 1.000)

// Sine
easeInSine = cubic-bezier(0.470, 0.000, 0.745, 0.715)
easeOutSine = cubic-bezier(0.390, 0.575, 0.565, 1.000)
easeInOutSine = cubic-bezier(0.445, 0.050, 0.550, 0.950)

// Back
easeInBack = cubic-bezier(0.600, -0.280, 0.735, 0.045)
easeOutBack = cubic-bezier(0.175,  0.885, 0.320, 1.275)
easeInOutBack = cubic-bezier(0.680, -0.550, 0.265, 1.550)

offset(t,r,b,l)
  top t
  right r
  bottom b
  left l

// keyframes
@keyframes showmenu
  from
    transform scaleY(0)
  to
    transform scaleY(1)

@keyframes hidemenu
  from
    transform scaleY(1)
  to
    transform scaleY(0)

// selectables
.unselectable
  user-select: none

.sprite
  background top left no-repeat url(../images/ui_menu.png)

.button
  @extend .unselectable
  cursor url(../images/cursor_action.png) 10 9
  text-transform uppercase

.hidden
  visibility hidden

.modal
  &.active
  &.hidden
    visibility visible

  &.active
    animation showmenu easeOutCirc 400ms

  &.hidden
    animation hidemenu easeInCirc 100ms
    transform scale(3,0)

body
  background #112
  color #aaa
  margin 0
  padding 0
  font 1em Play
  color white

  *
    position relative
    backface-visibility hidden

#game
  width 980px
  height 600px
  overflow hidden
  position absolute
  background black
  background-image url(../images/background_mars.png)
  top 0
  left 0

  cursor:  url(../images/cursors.png)

  &.move
    cursor: url(../images/cursor_move.png) 20 20

  canvas

#ui
  /**
  position absolute
  top 0
  right 0
  bottom 0 
  left 0
  /**/
  position auto

#console
  background rgba(2,2,2,0.35)
  width 400px
  height 100px
  border 1px solid rgba(0,255,255,0.3)
  border-radius 4px
  box-shadow 0 0 5px 1px rgba(1,1,1,0.5) inset
  font-size 90%
  position absolute
  bottom 1px
  margin 10px
  transition 500ms 20ms easeInOutQuint

  &.hidden
    visibility: visible
    transform translateY(120px)

  ul
    position absolute
    top 0 
    right 0 
    bottom 0 
    left 0
    overflow auto
    margin 10px
    padding 0
    display block

    li
      cursor default
      transition color 100ms
      display block
      margin 0
      padding 0
      color rgba(0,255,255,0.5)
      &:hover
        color cyan

#unit-menu
  @extend .modal
  width = 128px
  height = 91px
  width width
  height height
  margin-left width * -0.5
  margin-top height * -0.5
  background top left no-repeat
  background-image url(../images/ui_menu.png)
  font-size 12px
  text-transform uppercase
  color white
  position absolute

  .move
  .act
  .skip
    @extend .button
    display block
    position absolute
    width 46px
    height 46px
    line-height 46px
    text-align center
    margin-top -17px
    background top left no-repeat

    &:hover
      background-image url(../images/ui_menu.png)

  .move
    top 40px
    left 3px
    background-position -1px -89px

  .act
    top 16px
    left 41px
    background-position -1px -131px

  .skip
    top 40px
    left 79px
    background-position -52px -90px

#cancel-button
  @extend .sprite
  @extend .button
  width 145px
  height 47px
  margin-left -72px
  left 50%
  top 35px
  background-position 0px -179px
  color white
  z-index 1
  position absolute
  transition 500ms 10ms easeInOutBack

  &.hidden
    visibility visible
    transform translateY(-85px)

  .icon
    transition 200ms
    transform scale(0)
    opacity 0

  &:hover .icon
    transform scale(1)
    opacity 1
  
  height = 47px

  .button
    font-size 14px
    font-weight bold
    height height
    line-height height - 2
    text-indent 30px
    text-shadow 0 2px 2px rgba(0,0,0,0.8)
  
  .icon
    @extend .sprite
    width 46px
    height 37px
    background-position -97px -134px
    position absolute
    top 3px
    right 3px


#top-vignette
  background rgba(1,1,1,0.5)
  height 120px
  width 100%
  position absolute
  top 1px
  transition 400ms easeInOutQuint
  &.hidden
    transform translateY(-120px)

#confirm-action
  @extend .sprite
  @extend .modal
  width 92px
  height 69px
  background-position 0px -230px
  position absolute
  margin-left -33px
  margin-top -25px

  .button
    @extend .sprite
    position absolute
    text-indent 100em
    width 20px
    height 20px
    z-index 2
    transition 400ms easeOutQuint
    transform scale(1.3,1.3)
    &:hover
      transform scale(1,1)

  .confirm
    width 45px
    height 39px
    top 10px
    left 10px
    background-position -99px -229px

  .cancel
    width 29px
    height 26px
    top 36px
    left 54px
    background-position -107px -272px

#curtain
  position absolute
  z-index 99
  top 0
  left 0
  right 0
  background rgba(1,1,1,0.95)
  transition 1000ms

  curtain_margin = 300px

  .cover
    background url(../images/curtain.png) top left no-repeat
    height 350px
    width 100%
    position absolute
    top curtain_margin
    transition 900ms 400ms easeInOutQuint

  .text
    @extend .unselectable
    position absolute
    background url(../images/curtain.png) top left no-repeat
    background-position 0 -700px
    width 382px
    height 56px
    z-index 99
    top curtain_margin
    left 50%
    margin-left -191px
    margin-top -26px
    text-align center
    line-height 53px
    text-transform uppercase
    text-shadow 0 0 10px cyan
    transition 400ms

  .top
    margin-top -350px

  .bottom
    background-position 0 -350px

  &.hidden

    visibility: visible

    .top
      transform translateY(-350px)
    .bottom
      transform translateY(350px)
    .text
      visibility hidden
      transform scaleY(0)

#command-list
  @extend .modal
  width 180px
  position absolute
  z-index: 99

  .title
    text-transform uppercase
    text-shadow 0 0 5px rgba(0,255,250,0.75)
    font-weight bold
    font-size 12px
    color #0cc8c3
    padding 8px 0 8px 0
    background rgba(1,1,1,0.8)
    display block
    text-indent 15px

  ul
    background rgba(1,1,1,0.65)
    border-top 3px solid #0cc8c3
    border-bottom 3px solid #0cc8c3
    display block
    margin 0
    padding 5px

    li
      margin 0
      padding 0
      display block
      border 1px solid #0cc8c3
      color rgba(200,255,250,0.75)
      background rgba(13, 45, 48, 0.5)
      font-size 12px
      text-transform uppercase
      font-weight bold
      padding 4px 0 4px 0
      text-indent 10px
      box-shadow 0px 2px 4px black inset
      transition 200ms 
      position relative

      span
        text-shadow 0 0 5px rgba(0,255,250,0.75)

      .cost
        position absolute
        top 5px
        right 5px
        color #ffba00

      &:hover
        color rgba(255,255,255,0.8)
        background rgba(13, 45, 48, 0.85)
        background rgba(13, 45, 48, 1)
        box-shadow none

        span
          text-shadow 0 0 5px rgba(0,255,250,0.75)
